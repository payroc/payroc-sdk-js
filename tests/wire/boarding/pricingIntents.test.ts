// This file was auto-generated by Fern from our API Definition.

import * as Payroc from "../../../src/api/index";
import { PayrocClient } from "../../../src/Client";
import { mockServerPool } from "../../mock-server/MockServerPool";
import { mockBearer } from "../mockAuth";

describe("PricingIntentsClient", () => {
    test("create (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 9900 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly" },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1500,
                earlyTermination: 57500,
            },
            processor: { card: { planType: "interchangePlus", fees: { mastercardVisaDiscover: {} } } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            key: "Your-Unique-Identifier",
            metadata: { yourCustomField: "abc123" },
        };
        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "8e03978e-40d5-43e8-bc93-6894a57f9324")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.boarding.pricingIntents.create({
            "Idempotency-Key": "8e03978e-40d5-43e8-bc93-6894a57f9324",
            body: {
                country: "US",
                version: "5.0",
                base: {
                    addressVerification: 5,
                    annualFee: {
                        billInMonth: "june",
                        amount: 9900,
                    },
                    regulatoryAssistanceProgram: 15,
                    pciNonCompliance: 4995,
                    merchantAdvantage: 10,
                    platinumSecurity: {
                        billingFrequency: "monthly",
                    },
                    maintenance: 500,
                    minimum: 100,
                    voiceAuthorization: 95,
                    chargeback: 2500,
                    retrieval: 1500,
                    batch: 1500,
                    earlyTermination: 57500,
                },
                processor: {
                    card: {
                        planType: "interchangePlus",
                        fees: {
                            mastercardVisaDiscover: {},
                        },
                    },
                },
                services: [
                    {
                        name: "hardwareAdvantagePlan",
                        enabled: true,
                    },
                ],
                key: "Your-Unique-Identifier",
                metadata: {
                    yourCustomField: "abc123",
                },
            },
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("create (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 9900 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly" },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1500,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlusPlus",
                    fees: { mastercardVisaDiscover: { qualifiedRate: {}, midQualRate: {}, nonQualRate: {} } },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 5,
                        returns: 400,
                        unauthorizedReturn: 500,
                        statement: 250,
                        monthlyMinimum: 500,
                        accountVerification: 10,
                        discountRateUnder10000: 0.5,
                        discountRateAbove10000: 1,
                    },
                },
            },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            key: "Your-Unique-Identifier",
            metadata: { yourCustomField: "abc123" },
        };
        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "8e03978e-40d5-43e8-bc93-6894a57f9324")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.boarding.pricingIntents.create({
            "Idempotency-Key": "8e03978e-40d5-43e8-bc93-6894a57f9324",
            body: {
                country: "US",
                version: "5.0",
                base: {
                    addressVerification: 5,
                    annualFee: {
                        billInMonth: "june",
                        amount: 9900,
                    },
                    regulatoryAssistanceProgram: 15,
                    pciNonCompliance: 4995,
                    merchantAdvantage: 10,
                    platinumSecurity: {
                        billingFrequency: "monthly",
                    },
                    maintenance: 500,
                    minimum: 100,
                    voiceAuthorization: 95,
                    chargeback: 2500,
                    retrieval: 1500,
                    batch: 1500,
                    earlyTermination: 57500,
                },
                processor: {
                    card: {
                        planType: "interchangePlusPlus",
                        fees: {
                            mastercardVisaDiscover: {
                                qualifiedRate: {},
                                midQualRate: {},
                                nonQualRate: {},
                            },
                        },
                    },
                    ach: {
                        fees: {
                            transaction: 50,
                            batch: 5,
                            returns: 400,
                            unauthorizedReturn: 500,
                            statement: 250,
                            monthlyMinimum: 500,
                            accountVerification: 10,
                            discountRateUnder10000: 0.5,
                            discountRateAbove10000: 1,
                        },
                    },
                },
                services: [
                    {
                        name: "hardwareAdvantagePlan",
                        enabled: true,
                    },
                ],
                key: "Your-Unique-Identifier",
                metadata: {
                    yourCustomField: "abc123",
                },
            },
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("create (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 9900 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly" },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1500,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "tiered3",
                    fees: { mastercardVisaDiscover: { qualifiedRate: {}, midQualRate: {}, nonQualRate: {} } },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 5,
                        returns: 400,
                        unauthorizedReturn: 500,
                        statement: 250,
                        monthlyMinimum: 500,
                        accountVerification: 10,
                        discountRateUnder10000: 0.5,
                        discountRateAbove10000: 1,
                    },
                },
            },
            gateway: { fees: { monthly: 2000, setup: 5000, perTransaction: 2000, perDeviceMonthly: 10 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            key: "Your-Unique-Identifier",
            metadata: { yourCustomField: "abc123" },
        };
        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "8e03978e-40d5-43e8-bc93-6894a57f9324")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.boarding.pricingIntents.create({
            "Idempotency-Key": "8e03978e-40d5-43e8-bc93-6894a57f9324",
            body: {
                country: "US",
                version: "5.0",
                base: {
                    addressVerification: 5,
                    annualFee: {
                        billInMonth: "june",
                        amount: 9900,
                    },
                    regulatoryAssistanceProgram: 15,
                    pciNonCompliance: 4995,
                    merchantAdvantage: 10,
                    platinumSecurity: {
                        billingFrequency: "monthly",
                    },
                    maintenance: 500,
                    minimum: 100,
                    voiceAuthorization: 95,
                    chargeback: 2500,
                    retrieval: 1500,
                    batch: 1500,
                    earlyTermination: 57500,
                },
                processor: {
                    card: {
                        planType: "tiered3",
                        fees: {
                            mastercardVisaDiscover: {
                                qualifiedRate: {},
                                midQualRate: {},
                                nonQualRate: {},
                            },
                        },
                    },
                    ach: {
                        fees: {
                            transaction: 50,
                            batch: 5,
                            returns: 400,
                            unauthorizedReturn: 500,
                            statement: 250,
                            monthlyMinimum: 500,
                            accountVerification: 10,
                            discountRateUnder10000: 0.5,
                            discountRateAbove10000: 1,
                        },
                    },
                },
                gateway: {
                    fees: {
                        monthly: 2000,
                        setup: 5000,
                        perTransaction: 2000,
                        perDeviceMonthly: 10,
                    },
                },
                services: [
                    {
                        name: "hardwareAdvantagePlan",
                        enabled: true,
                    },
                ],
                key: "Your-Unique-Identifier",
                metadata: {
                    yourCustomField: "abc123",
                },
            },
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("create (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 9900 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly" },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1500,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "tiered4",
                    fees: {
                        mastercardVisaDiscover: {
                            qualifiedRate: {},
                            midQualRate: {},
                            nonQualRate: {},
                            premiumRate: {},
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 5,
                        returns: 400,
                        unauthorizedReturn: 500,
                        statement: 250,
                        monthlyMinimum: 500,
                        accountVerification: 10,
                        discountRateUnder10000: 0.5,
                        discountRateAbove10000: 1,
                    },
                },
            },
            gateway: { fees: { monthly: 2000, setup: 5000, perTransaction: 2000, perDeviceMonthly: 10 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            key: "Your-Unique-Identifier",
            metadata: { yourCustomField: "abc123" },
        };
        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "8e03978e-40d5-43e8-bc93-6894a57f9324")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.boarding.pricingIntents.create({
            "Idempotency-Key": "8e03978e-40d5-43e8-bc93-6894a57f9324",
            body: {
                country: "US",
                version: "5.0",
                base: {
                    addressVerification: 5,
                    annualFee: {
                        billInMonth: "june",
                        amount: 9900,
                    },
                    regulatoryAssistanceProgram: 15,
                    pciNonCompliance: 4995,
                    merchantAdvantage: 10,
                    platinumSecurity: {
                        billingFrequency: "monthly",
                    },
                    maintenance: 500,
                    minimum: 100,
                    voiceAuthorization: 95,
                    chargeback: 2500,
                    retrieval: 1500,
                    batch: 1500,
                    earlyTermination: 57500,
                },
                processor: {
                    card: {
                        planType: "tiered4",
                        fees: {
                            mastercardVisaDiscover: {
                                qualifiedRate: {},
                                midQualRate: {},
                                nonQualRate: {},
                                premiumRate: {},
                            },
                        },
                    },
                    ach: {
                        fees: {
                            transaction: 50,
                            batch: 5,
                            returns: 400,
                            unauthorizedReturn: 500,
                            statement: 250,
                            monthlyMinimum: 500,
                            accountVerification: 10,
                            discountRateUnder10000: 0.5,
                            discountRateAbove10000: 1,
                        },
                    },
                },
                gateway: {
                    fees: {
                        monthly: 2000,
                        setup: 5000,
                        perTransaction: 2000,
                        perDeviceMonthly: 10,
                    },
                },
                services: [
                    {
                        name: "hardwareAdvantagePlan",
                        enabled: true,
                    },
                ],
                key: "Your-Unique-Identifier",
                metadata: {
                    yourCustomField: "abc123",
                },
            },
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("create (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 9900 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly" },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1500,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "tiered6",
                    fees: {
                        mastercardVisaDiscover: {
                            qualifiedRate: {},
                            midQualRate: {},
                            nonQualRate: {},
                            premiumRate: {},
                            regulatedCheckCard: {},
                            unregulatedCheckCard: {},
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 5,
                        returns: 400,
                        unauthorizedReturn: 500,
                        statement: 250,
                        monthlyMinimum: 500,
                        accountVerification: 10,
                        discountRateUnder10000: 0.5,
                        discountRateAbove10000: 1,
                    },
                },
            },
            gateway: { fees: { monthly: 2000, setup: 5000, perTransaction: 2000, perDeviceMonthly: 10 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            key: "Your-Unique-Identifier",
            metadata: { yourCustomField: "abc123" },
        };
        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "8e03978e-40d5-43e8-bc93-6894a57f9324")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.boarding.pricingIntents.create({
            "Idempotency-Key": "8e03978e-40d5-43e8-bc93-6894a57f9324",
            body: {
                country: "US",
                version: "5.0",
                base: {
                    addressVerification: 5,
                    annualFee: {
                        billInMonth: "june",
                        amount: 9900,
                    },
                    regulatoryAssistanceProgram: 15,
                    pciNonCompliance: 4995,
                    merchantAdvantage: 10,
                    platinumSecurity: {
                        billingFrequency: "monthly",
                    },
                    maintenance: 500,
                    minimum: 100,
                    voiceAuthorization: 95,
                    chargeback: 2500,
                    retrieval: 1500,
                    batch: 1500,
                    earlyTermination: 57500,
                },
                processor: {
                    card: {
                        planType: "tiered6",
                        fees: {
                            mastercardVisaDiscover: {
                                qualifiedRate: {},
                                midQualRate: {},
                                nonQualRate: {},
                                premiumRate: {},
                                regulatedCheckCard: {},
                                unregulatedCheckCard: {},
                            },
                        },
                    },
                    ach: {
                        fees: {
                            transaction: 50,
                            batch: 5,
                            returns: 400,
                            unauthorizedReturn: 500,
                            statement: 250,
                            monthlyMinimum: 500,
                            accountVerification: 10,
                            discountRateUnder10000: 0.5,
                            discountRateAbove10000: 1,
                        },
                    },
                },
                gateway: {
                    fees: {
                        monthly: 2000,
                        setup: 5000,
                        perTransaction: 2000,
                        perDeviceMonthly: 10,
                    },
                },
                services: [
                    {
                        name: "hardwareAdvantagePlan",
                        enabled: true,
                    },
                ],
                key: "Your-Unique-Identifier",
                metadata: {
                    yourCustomField: "abc123",
                },
            },
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("create (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 9900 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly" },
                maintenance: 500,
                minimum: 0,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 0,
                earlyTermination: 57500,
            },
            processor: { card: { planType: "flatRate", fees: { standardCards: {} } } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            key: "Your-Unique-Identifier",
            metadata: { yourCustomField: "abc123" },
        };
        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "8e03978e-40d5-43e8-bc93-6894a57f9324")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.boarding.pricingIntents.create({
            "Idempotency-Key": "8e03978e-40d5-43e8-bc93-6894a57f9324",
            body: {
                country: "US",
                version: "5.0",
                base: {
                    addressVerification: 5,
                    annualFee: {
                        billInMonth: "june",
                        amount: 9900,
                    },
                    regulatoryAssistanceProgram: 15,
                    pciNonCompliance: 4995,
                    merchantAdvantage: 10,
                    platinumSecurity: {
                        billingFrequency: "monthly",
                    },
                    maintenance: 500,
                    minimum: 0,
                    voiceAuthorization: 95,
                    chargeback: 2500,
                    retrieval: 1500,
                    batch: 0,
                    earlyTermination: 57500,
                },
                processor: {
                    card: {
                        planType: "flatRate",
                        fees: {
                            standardCards: {},
                        },
                    },
                },
                services: [
                    {
                        name: "hardwareAdvantagePlan",
                        enabled: true,
                    },
                ],
                key: "Your-Unique-Identifier",
                metadata: {
                    yourCustomField: "abc123",
                },
            },
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("create (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 9900 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly" },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1500,
                earlyTermination: 57500,
            },
            processor: { card: { planType: "consumerChoice", fees: { monthlySubscription: 1, volume: 1.25 } } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            key: "Your-Unique-Identifier",
            metadata: { yourCustomField: "abc123" },
        };
        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "8e03978e-40d5-43e8-bc93-6894a57f9324")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.boarding.pricingIntents.create({
            "Idempotency-Key": "8e03978e-40d5-43e8-bc93-6894a57f9324",
            body: {
                country: "US",
                version: "5.0",
                base: {
                    addressVerification: 5,
                    annualFee: {
                        billInMonth: "june",
                        amount: 9900,
                    },
                    regulatoryAssistanceProgram: 15,
                    pciNonCompliance: 4995,
                    merchantAdvantage: 10,
                    platinumSecurity: {
                        billingFrequency: "monthly",
                    },
                    maintenance: 500,
                    minimum: 100,
                    voiceAuthorization: 95,
                    chargeback: 2500,
                    retrieval: 1500,
                    batch: 1500,
                    earlyTermination: 57500,
                },
                processor: {
                    card: {
                        planType: "consumerChoice",
                        fees: {
                            monthlySubscription: 1,
                            volume: 1.25,
                        },
                    },
                },
                services: [
                    {
                        name: "hardwareAdvantagePlan",
                        enabled: true,
                    },
                ],
                key: "Your-Unique-Identifier",
                metadata: {
                    yourCustomField: "abc123",
                },
            },
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("create (8)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 9900 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly" },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1500,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "rewardPayChoice",
                    fees: { monthlySubscription: 1, debit: { volume: 1.25, transaction: 1 }, credit: {} },
                },
            },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            key: "Your-Unique-Identifier",
            metadata: { yourCustomField: "abc123" },
        };
        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "8e03978e-40d5-43e8-bc93-6894a57f9324")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.boarding.pricingIntents.create({
            "Idempotency-Key": "8e03978e-40d5-43e8-bc93-6894a57f9324",
            body: {
                country: "US",
                version: "5.0",
                base: {
                    addressVerification: 5,
                    annualFee: {
                        billInMonth: "june",
                        amount: 9900,
                    },
                    regulatoryAssistanceProgram: 15,
                    pciNonCompliance: 4995,
                    merchantAdvantage: 10,
                    platinumSecurity: {
                        billingFrequency: "monthly",
                    },
                    maintenance: 500,
                    minimum: 100,
                    voiceAuthorization: 95,
                    chargeback: 2500,
                    retrieval: 1500,
                    batch: 1500,
                    earlyTermination: 57500,
                },
                processor: {
                    card: {
                        planType: "rewardPayChoice",
                        fees: {
                            monthlySubscription: 1,
                            debit: {
                                volume: 1.25,
                                transaction: 1,
                            },
                            credit: {},
                        },
                    },
                },
                services: [
                    {
                        name: "hardwareAdvantagePlan",
                        enabled: true,
                    },
                ],
                key: "Your-Unique-Identifier",
                metadata: {
                    yourCustomField: "abc123",
                },
            },
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("create (9)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.create({
                "Idempotency-Key": "idempotencyKey",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("create (10)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.create({
                "Idempotency-Key": "idempotencyKey",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("create (11)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.create({
                "Idempotency-Key": "idempotencyKey",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("create (12)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.create({
                "Idempotency-Key": "idempotencyKey",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("create (13)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(409)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.create({
                "Idempotency-Key": "idempotencyKey",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.ConflictError);
    });

    test("create (14)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .post("/pricing-intents")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.create({
                "Idempotency-Key": "idempotencyKey",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("retrieve (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server.mockEndpoint().get("/pricing-intents/5").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.boarding.pricingIntents.retrieve({
            pricingIntentId: "5",
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("retrieve (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/pricing-intents/pricingIntentId")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.retrieve({
                pricingIntentId: "pricingIntentId",
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("retrieve (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/pricing-intents/pricingIntentId")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.retrieve({
                pricingIntentId: "pricingIntentId",
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("retrieve (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/pricing-intents/pricingIntentId")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.retrieve({
                pricingIntentId: "pricingIntentId",
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("retrieve (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/pricing-intents/pricingIntentId")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.retrieve({
                pricingIntentId: "pricingIntentId",
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("retrieve (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/pricing-intents/pricingIntentId")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.retrieve({
                pricingIntentId: "pricingIntentId",
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("update (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 9900 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly" },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1500,
                earlyTermination: 57500,
            },
            processor: {
                card: { planType: "interchangePlus", fees: { mastercardVisaDiscover: {} } },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 5,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 10,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 2000, setup: 5000, perTransaction: 2000, perDeviceMonthly: 10 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            key: "Your-Unique-Identifier",
            metadata: { yourCustomField: "abc123" },
        };

        server.mockEndpoint().put("/pricing-intents/5").jsonBody(rawRequestBody).respondWith().statusCode(200).build();

        const response = await client.boarding.pricingIntents.update({
            pricingIntentId: "5",
            body: {
                country: "US",
                version: "5.0",
                base: {
                    addressVerification: 5,
                    annualFee: {
                        billInMonth: "june",
                        amount: 9900,
                    },
                    regulatoryAssistanceProgram: 15,
                    pciNonCompliance: 4995,
                    merchantAdvantage: 10,
                    platinumSecurity: {
                        billingFrequency: "monthly",
                    },
                    maintenance: 500,
                    minimum: 100,
                    voiceAuthorization: 95,
                    chargeback: 2500,
                    retrieval: 1500,
                    batch: 1500,
                    earlyTermination: 57500,
                },
                processor: {
                    card: {
                        planType: "interchangePlus",
                        fees: {
                            mastercardVisaDiscover: {},
                        },
                    },
                    ach: {
                        fees: {
                            transaction: 50,
                            batch: 5,
                            returns: 400,
                            unauthorizedReturn: 1999,
                            statement: 800,
                            monthlyMinimum: 20000,
                            accountVerification: 10,
                            discountRateUnder10000: 5.25,
                            discountRateAbove10000: 10,
                        },
                    },
                },
                gateway: {
                    fees: {
                        monthly: 2000,
                        setup: 5000,
                        perTransaction: 2000,
                        perDeviceMonthly: 10,
                    },
                },
                services: [
                    {
                        name: "hardwareAdvantagePlan",
                        enabled: true,
                    },
                ],
                key: "Your-Unique-Identifier",
                metadata: {
                    yourCustomField: "abc123",
                },
            },
        });
        expect(response).toEqual(undefined);
    });

    test("update (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .put("/pricing-intents/pricingIntentId")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.update({
                pricingIntentId: "pricingIntentId",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("update (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .put("/pricing-intents/pricingIntentId")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.update({
                pricingIntentId: "pricingIntentId",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("update (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .put("/pricing-intents/pricingIntentId")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.update({
                pricingIntentId: "pricingIntentId",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("update (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .put("/pricing-intents/pricingIntentId")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.update({
                pricingIntentId: "pricingIntentId",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("update (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .put("/pricing-intents/pricingIntentId")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.update({
                pricingIntentId: "pricingIntentId",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("update (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = {
            key: "key",
            country: "US",
            version: "5.0",
            base: { annualFee: { amount: 1 }, maintenance: 500, minimum: 1, batch: 1 },
        };
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .put("/pricing-intents/pricingIntentId")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.update({
                pricingIntentId: "pricingIntentId",
                body: {
                    key: "key",
                    country: "US",
                    version: "5.0",
                    base: {
                        annualFee: {
                            amount: 1,
                        },
                        maintenance: 500,
                        minimum: 1,
                        batch: 1,
                    },
                },
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("delete (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        server.mockEndpoint().delete("/pricing-intents/5").respondWith().statusCode(200).build();

        const response = await client.boarding.pricingIntents.delete({
            pricingIntentId: "5",
        });
        expect(response).toEqual(undefined);
    });

    test("delete (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .delete("/pricing-intents/pricingIntentId")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.delete({
                pricingIntentId: "pricingIntentId",
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("delete (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .delete("/pricing-intents/pricingIntentId")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.delete({
                pricingIntentId: "pricingIntentId",
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("delete (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .delete("/pricing-intents/pricingIntentId")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.delete({
                pricingIntentId: "pricingIntentId",
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("delete (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .delete("/pricing-intents/pricingIntentId")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.delete({
                pricingIntentId: "pricingIntentId",
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("partiallyUpdate (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = [
            { op: "remove", path: "path" },
            { op: "remove", path: "path" },
            { op: "remove", path: "path" },
        ];
        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server
            .mockEndpoint()
            .patch("/pricing-intents/5")
            .header("Idempotency-Key", "8e03978e-40d5-43e8-bc93-6894a57f9324")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.boarding.pricingIntents.partiallyUpdate({
            "Idempotency-Key": "8e03978e-40d5-43e8-bc93-6894a57f9324",
            pricingIntentId: "5",
            body: [
                {
                    op: "remove",
                    path: "path",
                },
                {
                    op: "remove",
                    path: "path",
                },
                {
                    op: "remove",
                    path: "path",
                },
            ],
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("partiallyUpdate (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = [
            { op: "remove", path: "path" },
            { op: "remove", path: "path" },
            { op: "remove", path: "path" },
            { op: "move", from: "from", path: "path" },
            { op: "copy", from: "from", path: "path" },
            { op: "remove", path: "path" },
        ];
        const rawResponseBody = {
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: { billInMonth: "june", amount: 100 },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: { billingFrequency: "monthly", amount: 1295 },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: { volume: 1.25 },
                        amex: { type: "optBlue", volume: 1.25, transaction: 1 },
                        pinDebit: { additionalDiscount: 1.25, transaction: 1, monthlyAccess: 1 },
                        enhancedInterchange: { enrollment: 1, creditToMerchant: 1.25 },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: { fees: { monthly: 1000, setup: 25000, perTransaction: 0, perDeviceMonthly: 0 } },
            services: [{ name: "hardwareAdvantagePlan", enabled: true }],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: { yourCustomField: "abc123" },
        };
        server
            .mockEndpoint()
            .patch("/pricing-intents/5")
            .header("Idempotency-Key", "8e03978e-40d5-43e8-bc93-6894a57f9324")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.boarding.pricingIntents.partiallyUpdate({
            "Idempotency-Key": "8e03978e-40d5-43e8-bc93-6894a57f9324",
            pricingIntentId: "5",
            body: [
                {
                    op: "remove",
                    path: "path",
                },
                {
                    op: "remove",
                    path: "path",
                },
                {
                    op: "remove",
                    path: "path",
                },
                {
                    op: "move",
                    from: "from",
                    path: "path",
                },
                {
                    op: "copy",
                    from: "from",
                    path: "path",
                },
                {
                    op: "remove",
                    path: "path",
                },
            ],
        });
        expect(response).toEqual({
            country: "US",
            version: "5.0",
            base: {
                addressVerification: 5,
                annualFee: {
                    billInMonth: "june",
                    amount: 100,
                },
                regulatoryAssistanceProgram: 15,
                pciNonCompliance: 4995,
                merchantAdvantage: 10,
                platinumSecurity: {
                    billingFrequency: "monthly",
                    amount: 1295,
                },
                maintenance: 500,
                minimum: 100,
                voiceAuthorization: 95,
                chargeback: 2500,
                retrieval: 1500,
                batch: 1000,
                earlyTermination: 57500,
            },
            processor: {
                card: {
                    planType: "interchangePlus",
                    fees: {
                        mastercardVisaDiscover: {
                            volume: 1.25,
                        },
                        amex: {
                            type: "optBlue",
                            volume: 1.25,
                            transaction: 1,
                        },
                        pinDebit: {
                            additionalDiscount: 1.25,
                            transaction: 1,
                            monthlyAccess: 1,
                        },
                        enhancedInterchange: {
                            enrollment: 1,
                            creditToMerchant: 1.25,
                        },
                    },
                },
                ach: {
                    fees: {
                        transaction: 50,
                        batch: 1000,
                        returns: 400,
                        unauthorizedReturn: 1999,
                        statement: 800,
                        monthlyMinimum: 20000,
                        accountVerification: 100,
                        discountRateUnder10000: 5.25,
                        discountRateAbove10000: 10,
                    },
                },
            },
            gateway: {
                fees: {
                    monthly: 1000,
                    setup: 25000,
                    perTransaction: 0,
                    perDeviceMonthly: 0,
                },
            },
            services: [
                {
                    name: "hardwareAdvantagePlan",
                    enabled: true,
                },
            ],
            id: "5",
            createdDate: "2024-07-02T09:00:00Z",
            lastUpdatedDate: "2024-07-02T09:00:00Z",
            status: "pendingReview",
            key: "string",
            metadata: {
                yourCustomField: "abc123",
            },
        });
    });

    test("partiallyUpdate (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = [
            { op: "add", path: "path", value: { key: "value" } },
            { op: "add", path: "path", value: { key: "value" } },
        ];
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .patch("/pricing-intents/pricingIntentId")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.partiallyUpdate({
                "Idempotency-Key": "idempotencyKey",
                pricingIntentId: "pricingIntentId",
                body: [
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                ],
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("partiallyUpdate (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = [
            { op: "add", path: "path", value: { key: "value" } },
            { op: "add", path: "path", value: { key: "value" } },
        ];
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .patch("/pricing-intents/pricingIntentId")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.partiallyUpdate({
                "Idempotency-Key": "idempotencyKey",
                pricingIntentId: "pricingIntentId",
                body: [
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                ],
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("partiallyUpdate (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = [
            { op: "add", path: "path", value: { key: "value" } },
            { op: "add", path: "path", value: { key: "value" } },
        ];
        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .patch("/pricing-intents/pricingIntentId")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.partiallyUpdate({
                "Idempotency-Key": "idempotencyKey",
                pricingIntentId: "pricingIntentId",
                body: [
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                ],
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("partiallyUpdate (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = [
            { op: "add", path: "path", value: { key: "value" } },
            { op: "add", path: "path", value: { key: "value" } },
        ];
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .patch("/pricing-intents/pricingIntentId")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.partiallyUpdate({
                "Idempotency-Key": "idempotencyKey",
                pricingIntentId: "pricingIntentId",
                body: [
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                ],
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("partiallyUpdate (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = [
            { op: "add", path: "path", value: { key: "value" } },
            { op: "add", path: "path", value: { key: "value" } },
        ];
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .patch("/pricing-intents/pricingIntentId")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.partiallyUpdate({
                "Idempotency-Key": "idempotencyKey",
                pricingIntentId: "pricingIntentId",
                body: [
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                ],
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("partiallyUpdate (8)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = [
            { op: "add", path: "path", value: { key: "value" } },
            { op: "add", path: "path", value: { key: "value" } },
        ];
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .patch("/pricing-intents/pricingIntentId")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(409)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.partiallyUpdate({
                "Idempotency-Key": "idempotencyKey",
                pricingIntentId: "pricingIntentId",
                body: [
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                ],
            });
        }).rejects.toThrow(Payroc.ConflictError);
    });

    test("partiallyUpdate (9)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });
        const rawRequestBody = [
            { op: "add", path: "path", value: { key: "value" } },
            { op: "add", path: "path", value: { key: "value" } },
        ];
        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .patch("/pricing-intents/pricingIntentId")
            .header("Idempotency-Key", "idempotencyKey")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.boarding.pricingIntents.partiallyUpdate({
                "Idempotency-Key": "idempotencyKey",
                pricingIntentId: "pricingIntentId",
                body: [
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                    {
                        op: "add",
                        path: "path",
                        value: {
                            key: "value",
                        },
                    },
                ],
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });
});

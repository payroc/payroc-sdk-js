// This file was auto-generated by Fern from our API Definition.

import * as Payroc from "../../../src/api/index";
import { PayrocClient } from "../../../src/Client";
import { mockServerPool } from "../../mock-server/MockServerPool";
import { mockBearer } from "../mockAuth";

describe("SettlementClient", () => {
    test("retrieveBatch (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            batchId: 123,
            date: "2024-07-02",
            createdDate: "2024-07-02",
            lastModifiedDate: "2024-07-02",
            saleAmount: 1000000,
            heldAmount: 1000000,
            returnAmount: 1000000,
            transactionCount: 1000000,
            currency: "currency",
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            links: [
                { rel: "transactions", method: "get", href: "https://api.payroc.com/v1/transactions?batchId=123" },
                { rel: "authorizations", method: "get", href: "https://api.payroc.com/v1/authorizations?batchId=123" },
            ],
        };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.reporting.settlement.retrieveBatch({
            batchId: 1,
        });
        expect(response).toEqual({
            batchId: 123,
            date: "2024-07-02",
            createdDate: "2024-07-02",
            lastModifiedDate: "2024-07-02",
            saleAmount: 1000000,
            heldAmount: 1000000,
            returnAmount: 1000000,
            transactionCount: 1000000,
            currency: "currency",
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            links: [
                {
                    rel: "transactions",
                    method: "get",
                    href: "https://api.payroc.com/v1/transactions?batchId=123",
                },
                {
                    rel: "authorizations",
                    method: "get",
                    href: "https://api.payroc.com/v1/authorizations?batchId=123",
                },
            ],
        });
    });

    test("retrieveBatch (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("retrieveBatch (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("retrieveBatch (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("retrieveBatch (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("retrieveBatch (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(406).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("retrieveBatch (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("retrieveTransaction (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            transactionId: 442233,
            type: "capture",
            date: "2024-07-02",
            amount: 4999,
            entryMethod: "ecommerce",
            createdDate: "2024-07-02",
            lastModifiedDate: "2024-07-02",
            status: "paid",
            cashbackAmount: 0,
            interchange: { basisPoint: 0, transactionFee: 0 },
            currency: "USD",
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            settled: {
                settledBy: "3rd party",
                achDate: "2024-07-02",
                achDepositId: 99,
                link: { rel: "achDeposit", method: "get", href: "https://api.payroc.com/v1/ach-deposits/99" },
            },
            batch: {
                batchId: 12,
                date: "2024-07-02",
                cycle: "am",
                link: { rel: "batch", method: "get", href: "https://api.payroc.com/v1/batches/12" },
            },
            card: {
                cardNumber: "453985******7062",
                type: "visa",
                cvvPresenceIndicator: true,
                avsRequest: true,
                avsResponse: "",
            },
            authorization: {
                authorizationId: 303101,
                code: "A1B2C3",
                amount: 4999,
                avsResponseCode: "",
                link: { rel: "authorization", method: "get", href: "https://api.payroc.com/v1/authorizations/303101" },
            },
        };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.reporting.settlement.retrieveTransaction({
            transactionId: 1,
        });
        expect(response).toEqual({
            transactionId: 442233,
            type: "capture",
            date: "2024-07-02",
            amount: 4999,
            entryMethod: "ecommerce",
            createdDate: "2024-07-02",
            lastModifiedDate: "2024-07-02",
            status: "paid",
            cashbackAmount: 0,
            interchange: {
                basisPoint: 0,
                transactionFee: 0,
            },
            currency: "USD",
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            settled: {
                settledBy: "3rd party",
                achDate: "2024-07-02",
                achDepositId: 99,
                link: {
                    rel: "achDeposit",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposits/99",
                },
            },
            batch: {
                batchId: 12,
                date: "2024-07-02",
                cycle: "am",
                link: {
                    rel: "batch",
                    method: "get",
                    href: "https://api.payroc.com/v1/batches/12",
                },
            },
            card: {
                cardNumber: "453985******7062",
                type: "visa",
                cvvPresenceIndicator: true,
                avsRequest: true,
                avsResponse: "",
            },
            authorization: {
                authorizationId: 303101,
                code: "A1B2C3",
                amount: 4999,
                avsResponseCode: "",
                link: {
                    rel: "authorization",
                    method: "get",
                    href: "https://api.payroc.com/v1/authorizations/303101",
                },
            },
        });
    });

    test("retrieveTransaction (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("retrieveTransaction (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("retrieveTransaction (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("retrieveTransaction (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("retrieveTransaction (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(406).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("retrieveTransaction (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("retrieveAuthorization (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            authorizationId: 65,
            createdDate: "2024-07-02",
            lastModifiedDate: "2024-07-02",
            authorizationResponse: "successful",
            preauthorizationRequestAmount: 10000,
            currency: "USD",
            batch: {
                batchId: 12,
                date: "2024-07-02",
                cycle: "am",
                link: { rel: "batch", method: "get", href: "https://api.payroc.com/v1/batches/12" },
            },
            card: {
                cardNumber: "453985******7062",
                type: "visa",
                cvvPresenceIndicator: true,
                avsRequest: true,
                avsResponse: "Y",
            },
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            transaction: {
                transactionId: 442233,
                type: "capture",
                date: "2024-07-02",
                entryMethod: "swiped",
                amount: 100,
                link: { rel: "transaction", method: "get", href: "https://api.payroc.com/v1/transactions/12345" },
            },
        };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.reporting.settlement.retrieveAuthorization({
            authorizationId: 1,
        });
        expect(response).toEqual({
            authorizationId: 65,
            createdDate: "2024-07-02",
            lastModifiedDate: "2024-07-02",
            authorizationResponse: "successful",
            preauthorizationRequestAmount: 10000,
            currency: "USD",
            batch: {
                batchId: 12,
                date: "2024-07-02",
                cycle: "am",
                link: {
                    rel: "batch",
                    method: "get",
                    href: "https://api.payroc.com/v1/batches/12",
                },
            },
            card: {
                cardNumber: "453985******7062",
                type: "visa",
                cvvPresenceIndicator: true,
                avsRequest: true,
                avsResponse: "Y",
            },
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            transaction: {
                transactionId: 442233,
                type: "capture",
                date: "2024-07-02",
                entryMethod: "swiped",
                amount: 100,
                link: {
                    rel: "transaction",
                    method: "get",
                    href: "https://api.payroc.com/v1/transactions/12345",
                },
            },
        });
    });

    test("retrieveAuthorization (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("retrieveAuthorization (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("retrieveAuthorization (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("retrieveAuthorization (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("retrieveAuthorization (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(406).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("retrieveAuthorization (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("listDisputesStatuses (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = [
            { disputeStatusId: 12345, status: "prearbitrationInProcess", statusDate: "2024-02-01" },
        ];
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reporting.settlement.listDisputesStatuses({
            disputeId: 1,
        });
        expect(response).toEqual([
            {
                disputeStatusId: 12345,
                status: "prearbitrationInProcess",
                statusDate: "2024-02-01",
            },
        ]);
    });

    test("listDisputesStatuses (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("listDisputesStatuses (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("listDisputesStatuses (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("listDisputesStatuses (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("listDisputesStatuses (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("listDisputesStatuses (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("retrieveAchDeposit (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            achDepositId: 99,
            associationDate: "2024-07-02",
            achDate: "2024-07-02",
            paymentDate: "2024-07-02",
            transactions: 20,
            sales: 5000,
            returns: 100,
            dailyFees: 100,
            heldSales: 100,
            achAdjustment: 100,
            holdback: 100,
            reserveRelease: 100,
            netAmount: 5000,
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            links: [
                {
                    rel: "achDepositFees",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposit-fees?achDepositId=99&merchantId=4525644354",
                },
            ],
        };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.reporting.settlement.retrieveAchDeposit({
            achDepositId: 1,
        });
        expect(response).toEqual({
            achDepositId: 99,
            associationDate: "2024-07-02",
            achDate: "2024-07-02",
            paymentDate: "2024-07-02",
            transactions: 20,
            sales: 5000,
            returns: 100,
            dailyFees: 100,
            heldSales: 100,
            achAdjustment: 100,
            holdback: 100,
            reserveRelease: 100,
            netAmount: 5000,
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            links: [
                {
                    rel: "achDepositFees",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposit-fees?achDepositId=99&merchantId=4525644354",
                },
            ],
        });
    });

    test("retrieveAchDeposit (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("retrieveAchDeposit (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("retrieveAchDeposit (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("retrieveAchDeposit (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("retrieveAchDeposit (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(406).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("retrieveAchDeposit (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });
});

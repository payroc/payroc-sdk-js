// This file was auto-generated by Fern from our API Definition.

import * as Payroc from "../../../src/api/index";
import { PayrocClient } from "../../../src/Client";
import { mockServerPool } from "../../mock-server/MockServerPool";
import { mockBearer } from "../mockAuth";

describe("SettlementClient", () => {
    test("listBatches (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 2,
            count: 2,
            hasMore: true,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/batches?before=65&limit=2&date=2024-07-02",
                },
                {
                    rel: "next",
                    method: "get",
                    href: "https://api.payroc.com/v1/batches?after=66&limit=2&&date=2024-07-02",
                },
            ],
            data: [
                {
                    batchId: 65,
                    date: "2024-07-02",
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    saleAmount: 100,
                    heldAmount: 0,
                    returnAmount: 0,
                    transactionCount: 10,
                    currency: "USD",
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    links: [
                        {
                            rel: "transactions",
                            method: "get",
                            href: "https://api.payroc.com/v1/transactions?batchId=65",
                        },
                        {
                            rel: "authorizations",
                            method: "get",
                            href: "https://api.payroc.com/v1/authorizations?batchId=65",
                        },
                    ],
                },
                {
                    batchId: 66,
                    date: "2024-07-02",
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    saleAmount: 76,
                    heldAmount: 0,
                    returnAmount: 12,
                    transactionCount: 10,
                    currency: "USD",
                    merchant: {
                        merchantId: "9876543219",
                        doingBusinessAs: "Joe Bloggs Shoes",
                        processingAccountId: 68437,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/68437",
                        },
                    },
                    links: [
                        {
                            rel: "transactions",
                            method: "get",
                            href: "https://api.payroc.com/v1/transactions?batchId=66",
                        },
                        {
                            rel: "authorizations",
                            method: "get",
                            href: "https://api.payroc.com/v1/authorizations?batchId=66",
                        },
                    ],
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/batches")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 2,
            count: 2,
            hasMore: true,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/batches?before=65&limit=2&date=2024-07-02",
                },
                {
                    rel: "next",
                    method: "get",
                    href: "https://api.payroc.com/v1/batches?after=66&limit=2&&date=2024-07-02",
                },
            ],
            data: [
                {
                    batchId: 65,
                    date: "2024-07-02",
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    saleAmount: 100,
                    heldAmount: 0,
                    returnAmount: 0,
                    transactionCount: 10,
                    currency: "USD",
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    links: [
                        {
                            rel: "transactions",
                            method: "get",
                            href: "https://api.payroc.com/v1/transactions?batchId=65",
                        },
                        {
                            rel: "authorizations",
                            method: "get",
                            href: "https://api.payroc.com/v1/authorizations?batchId=65",
                        },
                    ],
                },
                {
                    batchId: 66,
                    date: "2024-07-02",
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    saleAmount: 76,
                    heldAmount: 0,
                    returnAmount: 12,
                    transactionCount: 10,
                    currency: "USD",
                    merchant: {
                        merchantId: "9876543219",
                        doingBusinessAs: "Joe Bloggs Shoes",
                        processingAccountId: 68437,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/68437",
                        },
                    },
                    links: [
                        {
                            rel: "transactions",
                            method: "get",
                            href: "https://api.payroc.com/v1/transactions?batchId=66",
                        },
                        {
                            rel: "authorizations",
                            method: "get",
                            href: "https://api.payroc.com/v1/authorizations?batchId=66",
                        },
                    ],
                },
            ],
        };
        const page = await client.reporting.settlement.listBatches({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2027-07-02",
            merchantId: "4525644354",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listBatches (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                { rel: "previous", method: "get", href: "<uri>" },
                { rel: "next", method: "get", href: "<uri>" },
            ],
            data: [
                {
                    batchId: 123,
                    date: "2024-07-02",
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    saleAmount: 1,
                    heldAmount: 1,
                    returnAmount: 1,
                    transactionCount: 1,
                    currency: "currency",
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    links: [
                        {
                            rel: "transactions",
                            method: "get",
                            href: "https://api.payroc.com/v1/transactions?batchId=123",
                        },
                        {
                            rel: "authorizations",
                            method: "get",
                            href: "https://api.payroc.com/v1/authorizations?batchId=123",
                        },
                    ],
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/batches")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "<uri>",
                },
                {
                    rel: "next",
                    method: "get",
                    href: "<uri>",
                },
            ],
            data: [
                {
                    batchId: 123,
                    date: "2024-07-02",
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    saleAmount: 1,
                    heldAmount: 1,
                    returnAmount: 1,
                    transactionCount: 1,
                    currency: "currency",
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    links: [
                        {
                            rel: "transactions",
                            method: "get",
                            href: "https://api.payroc.com/v1/transactions?batchId=123",
                        },
                        {
                            rel: "authorizations",
                            method: "get",
                            href: "https://api.payroc.com/v1/authorizations?batchId=123",
                        },
                    ],
                },
            ],
        };
        const page = await client.reporting.settlement.listBatches({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2027-07-02",
            merchantId: "4525644354",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listBatches (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/batches")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listBatches({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("listBatches (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/batches")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listBatches({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("listBatches (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint({ once: false })
            .get("/batches")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listBatches({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("listBatches (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/batches")
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listBatches({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("listBatches (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/batches")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listBatches({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("retrieveBatch (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            batchId: 123,
            date: "2024-07-02",
            createdDate: "2024-07-02",
            lastModifiedDate: "2024-07-02",
            saleAmount: 1,
            heldAmount: 1,
            returnAmount: 1,
            transactionCount: 1,
            currency: "currency",
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            links: [
                { rel: "transactions", method: "get", href: "https://api.payroc.com/v1/transactions?batchId=123" },
                { rel: "authorizations", method: "get", href: "https://api.payroc.com/v1/authorizations?batchId=123" },
            ],
        };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.reporting.settlement.retrieveBatch({
            batchId: 1,
        });
        expect(response).toEqual({
            batchId: 123,
            date: "2024-07-02",
            createdDate: "2024-07-02",
            lastModifiedDate: "2024-07-02",
            saleAmount: 1,
            heldAmount: 1,
            returnAmount: 1,
            transactionCount: 1,
            currency: "currency",
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            links: [
                {
                    rel: "transactions",
                    method: "get",
                    href: "https://api.payroc.com/v1/transactions?batchId=123",
                },
                {
                    rel: "authorizations",
                    method: "get",
                    href: "https://api.payroc.com/v1/authorizations?batchId=123",
                },
            ],
        });
    });

    test("retrieveBatch (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("retrieveBatch (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("retrieveBatch (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("retrieveBatch (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("retrieveBatch (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(406).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("retrieveBatch (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/batches/1").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveBatch({
                batchId: 1,
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("listTransactions (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 2,
            count: 1,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/transctions?before=442233&limit=2&date=2024-07-02",
                },
            ],
            data: [
                {
                    transactionId: 442233,
                    type: "capture",
                    date: "2024-07-02",
                    amount: 4999,
                    entryMethod: "ecommerce",
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    status: "paid",
                    cashbackAmount: 0,
                    interchange: { basisPoint: 0, transactionFee: 0 },
                    currency: "USD",
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    settled: {
                        settledBy: "3rd party",
                        achDate: "2024-07-02",
                        achDepositId: 99,
                        link: { rel: "achDeposit", method: "get", href: "https://api.payroc.com/v1/ach-deposits/99" },
                    },
                    batch: {
                        batchId: 12,
                        date: "2024-07-02",
                        cycle: "am",
                        link: { rel: "batch", method: "get", href: "https://api.payroc.com/v1/batches/12" },
                    },
                    card: {
                        cardNumber: "453985******7062",
                        type: "visa",
                        cvvPresenceIndicator: true,
                        avsRequest: true,
                        avsResponse: "",
                    },
                    authorization: {
                        authorizationId: 303101,
                        code: "A1B2C3",
                        amount: 4999,
                        avsResponseCode: "",
                        link: {
                            rel: "authorization",
                            method: "get",
                            href: "https://api.payroc.com/v1/authorizations/303101",
                        },
                    },
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/transactions")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 2,
            count: 1,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/transctions?before=442233&limit=2&date=2024-07-02",
                },
            ],
            data: [
                {
                    transactionId: 442233,
                    type: "capture",
                    date: "2024-07-02",
                    amount: 4999,
                    entryMethod: "ecommerce",
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    status: "paid",
                    cashbackAmount: 0,
                    interchange: {
                        basisPoint: 0,
                        transactionFee: 0,
                    },
                    currency: "USD",
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    settled: {
                        settledBy: "3rd party",
                        achDate: "2024-07-02",
                        achDepositId: 99,
                        link: {
                            rel: "achDeposit",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposits/99",
                        },
                    },
                    batch: {
                        batchId: 12,
                        date: "2024-07-02",
                        cycle: "am",
                        link: {
                            rel: "batch",
                            method: "get",
                            href: "https://api.payroc.com/v1/batches/12",
                        },
                    },
                    card: {
                        cardNumber: "453985******7062",
                        type: "visa",
                        cvvPresenceIndicator: true,
                        avsRequest: true,
                        avsResponse: "",
                    },
                    authorization: {
                        authorizationId: 303101,
                        code: "A1B2C3",
                        amount: 4999,
                        avsResponseCode: "",
                        link: {
                            rel: "authorization",
                            method: "get",
                            href: "https://api.payroc.com/v1/authorizations/303101",
                        },
                    },
                },
            ],
        };
        const page = await client.reporting.settlement.listTransactions({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2024-07-02",
            batchId: 1,
            merchantId: "4525644354",
            transactionType: "Capture",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listTransactions (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                { rel: "previous", method: "get", href: "<uri>" },
                { rel: "next", method: "get", href: "<uri>" },
            ],
            data: [
                {
                    transactionId: 442233,
                    type: "capture",
                    date: "2024-07-02",
                    amount: 4999,
                    entryMethod: "barcodeRead",
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    status: "fullSuspense",
                    cashbackAmount: 0,
                    interchange: { basisPoint: 150, transactionFee: 50 },
                    currency: "USD",
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    settled: {
                        settledBy: "3rd party",
                        achDate: "2024-07-02",
                        achDepositId: 99,
                        link: {
                            rel: "achDeposit",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposits/99?merchantId=4525644354",
                        },
                    },
                    batch: {
                        batchId: 1234,
                        date: "2024-07-02",
                        cycle: "am",
                        link: { rel: "previous", method: "get", href: "<uri>" },
                    },
                    card: { cardNumber: "453985******7062" },
                    authorization: {
                        authorizationId: 303101,
                        code: "A1B2C3",
                        amount: 4999,
                        avsResponseCode: "Y",
                        link: { rel: "previous", method: "get", href: "<uri>" },
                    },
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/transactions")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "<uri>",
                },
                {
                    rel: "next",
                    method: "get",
                    href: "<uri>",
                },
            ],
            data: [
                {
                    transactionId: 442233,
                    type: "capture",
                    date: "2024-07-02",
                    amount: 4999,
                    entryMethod: "barcodeRead",
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    status: "fullSuspense",
                    cashbackAmount: 0,
                    interchange: {
                        basisPoint: 150,
                        transactionFee: 50,
                    },
                    currency: "USD",
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    settled: {
                        settledBy: "3rd party",
                        achDate: "2024-07-02",
                        achDepositId: 99,
                        link: {
                            rel: "achDeposit",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposits/99?merchantId=4525644354",
                        },
                    },
                    batch: {
                        batchId: 1234,
                        date: "2024-07-02",
                        cycle: "am",
                        link: {
                            rel: "previous",
                            method: "get",
                            href: "<uri>",
                        },
                    },
                    card: {
                        cardNumber: "453985******7062",
                    },
                    authorization: {
                        authorizationId: 303101,
                        code: "A1B2C3",
                        amount: 4999,
                        avsResponseCode: "Y",
                        link: {
                            rel: "previous",
                            method: "get",
                            href: "<uri>",
                        },
                    },
                },
            ],
        };
        const page = await client.reporting.settlement.listTransactions({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2024-07-02",
            batchId: 1,
            merchantId: "4525644354",
            transactionType: "Capture",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listTransactions (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/transactions")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listTransactions();
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("listTransactions (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/transactions")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listTransactions();
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("listTransactions (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint({ once: false })
            .get("/transactions")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listTransactions();
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("listTransactions (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/transactions")
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listTransactions();
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("listTransactions (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/transactions")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listTransactions();
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("retrieveTransaction (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            transactionId: 442233,
            type: "capture",
            date: "2024-07-02",
            amount: 4999,
            entryMethod: "barcodeRead",
            createdDate: "2024-07-02",
            lastModifiedDate: "2024-07-02",
            status: "fullSuspense",
            cashbackAmount: 0,
            interchange: { basisPoint: 150, transactionFee: 50 },
            currency: "USD",
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            settled: {
                settledBy: "3rd party",
                achDate: "2024-07-02",
                achDepositId: 99,
                link: {
                    rel: "achDeposit",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposits/99?merchantId=4525644354",
                },
            },
            batch: {
                batchId: 1234,
                date: "2024-07-02",
                cycle: "am",
                link: { rel: "previous", method: "get", href: "<uri>" },
            },
            card: {
                cardNumber: "453985******7062",
                type: "visa",
                cvvPresenceIndicator: true,
                avsRequest: true,
                avsResponse: "avsResponse",
            },
            authorization: {
                authorizationId: 303101,
                code: "A1B2C3",
                amount: 4999,
                avsResponseCode: "Y",
                link: { rel: "previous", method: "get", href: "<uri>" },
            },
        };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.reporting.settlement.retrieveTransaction({
            transactionId: 1,
        });
        expect(response).toEqual({
            transactionId: 442233,
            type: "capture",
            date: "2024-07-02",
            amount: 4999,
            entryMethod: "barcodeRead",
            createdDate: "2024-07-02",
            lastModifiedDate: "2024-07-02",
            status: "fullSuspense",
            cashbackAmount: 0,
            interchange: {
                basisPoint: 150,
                transactionFee: 50,
            },
            currency: "USD",
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            settled: {
                settledBy: "3rd party",
                achDate: "2024-07-02",
                achDepositId: 99,
                link: {
                    rel: "achDeposit",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposits/99?merchantId=4525644354",
                },
            },
            batch: {
                batchId: 1234,
                date: "2024-07-02",
                cycle: "am",
                link: {
                    rel: "previous",
                    method: "get",
                    href: "<uri>",
                },
            },
            card: {
                cardNumber: "453985******7062",
                type: "visa",
                cvvPresenceIndicator: true,
                avsRequest: true,
                avsResponse: "avsResponse",
            },
            authorization: {
                authorizationId: 303101,
                code: "A1B2C3",
                amount: 4999,
                avsResponseCode: "Y",
                link: {
                    rel: "previous",
                    method: "get",
                    href: "<uri>",
                },
            },
        });
    });

    test("retrieveTransaction (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("retrieveTransaction (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("retrieveTransaction (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("retrieveTransaction (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("retrieveTransaction (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(406).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("retrieveTransaction (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/transactions/1").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveTransaction({
                transactionId: 1,
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("listAuthorizations (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 2,
            count: 1,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/authorizations?before=65&limit=2&date=2024-07-02",
                },
            ],
            data: [
                {
                    authorizationId: 65,
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    authorizationResponse: "successful",
                    preauthorizationRequestAmount: 10000,
                    currency: "USD",
                    batch: {
                        batchId: 12,
                        date: "2024-07-02",
                        cycle: "am",
                        link: { rel: "batch", method: "get", href: "https://api.payroc.com/v1/batches/12" },
                    },
                    card: {
                        cardNumber: "12456**********4124",
                        type: "visa",
                        cvvPresenceIndicator: true,
                        avsRequest: true,
                        avsResponse: "Y",
                    },
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    transaction: {
                        transactionId: 12345,
                        type: "capture",
                        date: "2024-07-02",
                        entryMethod: "swiped",
                        amount: 100,
                        link: {
                            rel: "transaction",
                            method: "get",
                            href: "https://api.payroc.com/v1/transactions/12345",
                        },
                    },
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/authorizations")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 2,
            count: 1,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/authorizations?before=65&limit=2&date=2024-07-02",
                },
            ],
            data: [
                {
                    authorizationId: 65,
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    authorizationResponse: "successful",
                    preauthorizationRequestAmount: 10000,
                    currency: "USD",
                    batch: {
                        batchId: 12,
                        date: "2024-07-02",
                        cycle: "am",
                        link: {
                            rel: "batch",
                            method: "get",
                            href: "https://api.payroc.com/v1/batches/12",
                        },
                    },
                    card: {
                        cardNumber: "12456**********4124",
                        type: "visa",
                        cvvPresenceIndicator: true,
                        avsRequest: true,
                        avsResponse: "Y",
                    },
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    transaction: {
                        transactionId: 12345,
                        type: "capture",
                        date: "2024-07-02",
                        entryMethod: "swiped",
                        amount: 100,
                        link: {
                            rel: "transaction",
                            method: "get",
                            href: "https://api.payroc.com/v1/transactions/12345",
                        },
                    },
                },
            ],
        };
        const page = await client.reporting.settlement.listAuthorizations({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2024-07-02",
            batchId: 1,
            merchantId: "4525644354",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listAuthorizations (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                { rel: "previous", method: "get", href: "<uri>" },
                { rel: "next", method: "get", href: "<uri>" },
            ],
            data: [
                {
                    authorizationId: 12345,
                    createdDate: "2024-01-30",
                    lastModifiedDate: "2024-01-30",
                    authorizationResponse: "activityCountLimitExceeded",
                    preauthorizationRequestAmount: 10000,
                    currency: "currency",
                    batch: {
                        batchId: 1234,
                        date: "2024-07-02",
                        cycle: "am",
                        link: { rel: "previous", method: "get", href: "<uri>" },
                    },
                    card: { cardNumber: "453985******7062" },
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    transaction: {
                        transactionId: 12345,
                        date: "2024-07-02",
                        amount: 25000,
                        link: { rel: "previous", method: "get", href: "<uri>" },
                    },
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/authorizations")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "<uri>",
                },
                {
                    rel: "next",
                    method: "get",
                    href: "<uri>",
                },
            ],
            data: [
                {
                    authorizationId: 12345,
                    createdDate: "2024-01-30",
                    lastModifiedDate: "2024-01-30",
                    authorizationResponse: "activityCountLimitExceeded",
                    preauthorizationRequestAmount: 10000,
                    currency: "currency",
                    batch: {
                        batchId: 1234,
                        date: "2024-07-02",
                        cycle: "am",
                        link: {
                            rel: "previous",
                            method: "get",
                            href: "<uri>",
                        },
                    },
                    card: {
                        cardNumber: "453985******7062",
                    },
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    transaction: {
                        transactionId: 12345,
                        date: "2024-07-02",
                        amount: 25000,
                        link: {
                            rel: "previous",
                            method: "get",
                            href: "<uri>",
                        },
                    },
                },
            ],
        };
        const page = await client.reporting.settlement.listAuthorizations({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2024-07-02",
            batchId: 1,
            merchantId: "4525644354",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listAuthorizations (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/authorizations")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAuthorizations();
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("listAuthorizations (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/authorizations")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAuthorizations();
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("listAuthorizations (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint({ once: false })
            .get("/authorizations")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAuthorizations();
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("listAuthorizations (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/authorizations")
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAuthorizations();
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("listAuthorizations (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/authorizations")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAuthorizations();
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("retrieveAuthorization (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            authorizationId: 12345,
            createdDate: "2024-01-30",
            lastModifiedDate: "2024-01-30",
            authorizationResponse: "activityCountLimitExceeded",
            preauthorizationRequestAmount: 10000,
            currency: "currency",
            batch: {
                batchId: 1234,
                date: "2024-07-02",
                cycle: "am",
                link: { rel: "previous", method: "get", href: "<uri>" },
            },
            card: {
                cardNumber: "453985******7062",
                type: "visa",
                cvvPresenceIndicator: true,
                avsRequest: true,
                avsResponse: "avsResponse",
            },
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            transaction: {
                transactionId: 12345,
                type: "capture",
                date: "2024-07-02",
                entryMethod: "barcodeRead",
                amount: 25000,
                link: { rel: "previous", method: "get", href: "<uri>" },
            },
        };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.reporting.settlement.retrieveAuthorization({
            authorizationId: 1,
        });
        expect(response).toEqual({
            authorizationId: 12345,
            createdDate: "2024-01-30",
            lastModifiedDate: "2024-01-30",
            authorizationResponse: "activityCountLimitExceeded",
            preauthorizationRequestAmount: 10000,
            currency: "currency",
            batch: {
                batchId: 1234,
                date: "2024-07-02",
                cycle: "am",
                link: {
                    rel: "previous",
                    method: "get",
                    href: "<uri>",
                },
            },
            card: {
                cardNumber: "453985******7062",
                type: "visa",
                cvvPresenceIndicator: true,
                avsRequest: true,
                avsResponse: "avsResponse",
            },
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            transaction: {
                transactionId: 12345,
                type: "capture",
                date: "2024-07-02",
                entryMethod: "barcodeRead",
                amount: 25000,
                link: {
                    rel: "previous",
                    method: "get",
                    href: "<uri>",
                },
            },
        });
    });

    test("retrieveAuthorization (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("retrieveAuthorization (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("retrieveAuthorization (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("retrieveAuthorization (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("retrieveAuthorization (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(406).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("retrieveAuthorization (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/authorizations/1").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAuthorization({
                authorizationId: 1,
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("listDisputes (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 2,
            count: 1,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/disputes?before=65&limit=2&date=2024-07-02",
                },
            ],
            data: [
                {
                    disputeId: 65,
                    disputeType: "firstDispute",
                    currentStatus: {
                        disputeStatusId: 123,
                        status: "new",
                        statusDate: "2024-07-02",
                        link: {
                            rel: "statuses",
                            method: "get",
                            href: "https://api.payroc.com/v1/disputes/65/statuses",
                        },
                    },
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    receivedDate: "2024-07-02",
                    description: "",
                    referenceNumber: "35435435",
                    disputeAmount: 1000,
                    feeAmount: 100,
                    firstDispute: true,
                    authorizationCode: "574254",
                    currency: "USD",
                    card: {
                        cardNumber: "12456**********4124",
                        type: "visa",
                        cvvPresenceIndicator: true,
                        avsRequest: true,
                        avsResponse: "",
                    },
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "merchant",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    transaction: {
                        transactionId: 12345,
                        type: "capture",
                        date: "2024-07-02",
                        entryMethod: "swiped",
                        amount: 100,
                        link: {
                            rel: "transaction",
                            method: "get",
                            href: "https://api.payroc.com/v1/transactions/12345",
                        },
                    },
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/disputes")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 2,
            count: 1,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/disputes?before=65&limit=2&date=2024-07-02",
                },
            ],
            data: [
                {
                    disputeId: 65,
                    disputeType: "firstDispute",
                    currentStatus: {
                        disputeStatusId: 123,
                        status: "new",
                        statusDate: "2024-07-02",
                        link: {
                            rel: "statuses",
                            method: "get",
                            href: "https://api.payroc.com/v1/disputes/65/statuses",
                        },
                    },
                    createdDate: "2024-07-02",
                    lastModifiedDate: "2024-07-02",
                    receivedDate: "2024-07-02",
                    description: "",
                    referenceNumber: "35435435",
                    disputeAmount: 1000,
                    feeAmount: 100,
                    firstDispute: true,
                    authorizationCode: "574254",
                    currency: "USD",
                    card: {
                        cardNumber: "12456**********4124",
                        type: "visa",
                        cvvPresenceIndicator: true,
                        avsRequest: true,
                        avsResponse: "",
                    },
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "merchant",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    transaction: {
                        transactionId: 12345,
                        type: "capture",
                        date: "2024-07-02",
                        entryMethod: "swiped",
                        amount: 100,
                        link: {
                            rel: "transaction",
                            method: "get",
                            href: "https://api.payroc.com/v1/transactions/12345",
                        },
                    },
                },
            ],
        };
        const page = await client.reporting.settlement.listDisputes({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2024-07-02",
            merchantId: "4525644354",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listDisputes (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                { rel: "previous", method: "get", href: "<uri>" },
                { rel: "next", method: "get", href: "<uri>" },
            ],
            data: [
                {
                    disputeId: 12345,
                    disputeType: "prearbitration",
                    currentStatus: {
                        disputeStatusId: 12345,
                        statusDate: "2024-02-01",
                        link: { rel: "previous", method: "get", href: "<uri>" },
                    },
                    createdDate: "2024-02-20",
                    lastModifiedDate: "2024-02-25",
                    receivedDate: "2024-02-18",
                    description: "description",
                    referenceNumber: "referenceNumber",
                    disputeAmount: 1,
                    feeAmount: 1,
                    firstDispute: true,
                    authorizationCode: "authorizationCode",
                    currency: "currency",
                    card: { cardNumber: "453985******7062" },
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    transaction: {
                        transactionId: 12345,
                        date: "2024-07-02",
                        amount: 25000,
                        link: { rel: "previous", method: "get", href: "<uri>" },
                    },
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/disputes")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "<uri>",
                },
                {
                    rel: "next",
                    method: "get",
                    href: "<uri>",
                },
            ],
            data: [
                {
                    disputeId: 12345,
                    disputeType: "prearbitration",
                    currentStatus: {
                        disputeStatusId: 12345,
                        statusDate: "2024-02-01",
                        link: {
                            rel: "previous",
                            method: "get",
                            href: "<uri>",
                        },
                    },
                    createdDate: "2024-02-20",
                    lastModifiedDate: "2024-02-25",
                    receivedDate: "2024-02-18",
                    description: "description",
                    referenceNumber: "referenceNumber",
                    disputeAmount: 1,
                    feeAmount: 1,
                    firstDispute: true,
                    authorizationCode: "authorizationCode",
                    currency: "currency",
                    card: {
                        cardNumber: "453985******7062",
                    },
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    transaction: {
                        transactionId: 12345,
                        date: "2024-07-02",
                        amount: 25000,
                        link: {
                            rel: "previous",
                            method: "get",
                            href: "<uri>",
                        },
                    },
                },
            ],
        };
        const page = await client.reporting.settlement.listDisputes({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2024-07-02",
            merchantId: "4525644354",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listDisputes (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/disputes")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputes({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("listDisputes (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/disputes")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputes({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("listDisputes (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint({ once: false })
            .get("/disputes")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputes({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("listDisputes (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/disputes")
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputes({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("listDisputes (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/disputes")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputes({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("listDisputesStatuses (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = [
            { disputeStatusId: 12345, status: "prearbitrationInProcess", statusDate: "2024-02-01" },
        ];
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.reporting.settlement.listDisputesStatuses({
            disputeId: 1,
        });
        expect(response).toEqual([
            {
                disputeStatusId: 12345,
                status: "prearbitrationInProcess",
                statusDate: "2024-02-01",
            },
        ]);
    });

    test("listDisputesStatuses (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("listDisputesStatuses (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("listDisputesStatuses (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("listDisputesStatuses (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(404)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("listDisputesStatuses (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("listDisputesStatuses (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint()
            .get("/disputes/1/statuses")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listDisputesStatuses({
                disputeId: 1,
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("listAchDeposits (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 2,
            count: 1,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposits?before=65&limit=2&date=2024-07-02",
                },
            ],
            data: [
                {
                    achDepositId: 99,
                    associationDate: "2024-07-02",
                    achDate: "2024-07-02",
                    paymentDate: "2024-07-02",
                    transactions: 10,
                    sales: 50000,
                    returns: 10000,
                    dailyFees: 1000,
                    heldSales: 1000,
                    achAdjustment: 1000,
                    holdback: 1000,
                    reserveRelease: 500,
                    netAmount: 36500,
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    links: [
                        {
                            rel: "achDepositFees",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposit-fees?achDepositId=99&merchantId=4525644354",
                        },
                    ],
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposits")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 2,
            count: 1,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposits?before=65&limit=2&date=2024-07-02",
                },
            ],
            data: [
                {
                    achDepositId: 99,
                    associationDate: "2024-07-02",
                    achDate: "2024-07-02",
                    paymentDate: "2024-07-02",
                    transactions: 10,
                    sales: 50000,
                    returns: 10000,
                    dailyFees: 1000,
                    heldSales: 1000,
                    achAdjustment: 1000,
                    holdback: 1000,
                    reserveRelease: 500,
                    netAmount: 36500,
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    links: [
                        {
                            rel: "achDepositFees",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposit-fees?achDepositId=99&merchantId=4525644354",
                        },
                    ],
                },
            ],
        };
        const page = await client.reporting.settlement.listAchDeposits({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2024-07-02",
            merchantId: "4525644354",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listAchDeposits (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                { rel: "previous", method: "get", href: "<uri>" },
                { rel: "next", method: "get", href: "<uri>" },
            ],
            data: [
                {
                    achDepositId: 99,
                    associationDate: "2024-07-02",
                    achDate: "2024-07-02",
                    paymentDate: "2024-07-02",
                    transactions: 20,
                    sales: 5000,
                    returns: 100,
                    dailyFees: 100,
                    heldSales: 100,
                    achAdjustment: 100,
                    holdback: 100,
                    reserveRelease: 100,
                    netAmount: 5000,
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    links: [
                        {
                            rel: "achDepositFees",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposit-fees?achDepositId=99&merchantId=4525644354",
                        },
                    ],
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposits")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "<uri>",
                },
                {
                    rel: "next",
                    method: "get",
                    href: "<uri>",
                },
            ],
            data: [
                {
                    achDepositId: 99,
                    associationDate: "2024-07-02",
                    achDate: "2024-07-02",
                    paymentDate: "2024-07-02",
                    transactions: 20,
                    sales: 5000,
                    returns: 100,
                    dailyFees: 100,
                    heldSales: 100,
                    achAdjustment: 100,
                    holdback: 100,
                    reserveRelease: 100,
                    netAmount: 5000,
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    links: [
                        {
                            rel: "achDepositFees",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposit-fees?achDepositId=99&merchantId=4525644354",
                        },
                    ],
                },
            ],
        };
        const page = await client.reporting.settlement.listAchDeposits({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2024-07-02",
            merchantId: "4525644354",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listAchDeposits (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposits")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAchDeposits({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("listAchDeposits (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposits")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAchDeposits({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("listAchDeposits (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposits")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAchDeposits({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("listAchDeposits (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposits")
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAchDeposits({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("listAchDeposits (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposits")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAchDeposits({
                date: "2023-01-15",
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("retrieveAchDeposit (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            achDepositId: 99,
            associationDate: "2024-07-02",
            achDate: "2024-07-02",
            paymentDate: "2024-07-02",
            transactions: 20,
            sales: 5000,
            returns: 100,
            dailyFees: 100,
            heldSales: 100,
            achAdjustment: 100,
            holdback: 100,
            reserveRelease: 100,
            netAmount: 5000,
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            links: [
                {
                    rel: "achDepositFees",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposit-fees?achDepositId=99&merchantId=4525644354",
                },
            ],
        };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(200).jsonBody(rawResponseBody).build();

        const response = await client.reporting.settlement.retrieveAchDeposit({
            achDepositId: 1,
        });
        expect(response).toEqual({
            achDepositId: 99,
            associationDate: "2024-07-02",
            achDate: "2024-07-02",
            paymentDate: "2024-07-02",
            transactions: 20,
            sales: 5000,
            returns: 100,
            dailyFees: 100,
            heldSales: 100,
            achAdjustment: 100,
            holdback: 100,
            reserveRelease: 100,
            netAmount: 5000,
            merchant: {
                merchantId: "4525644354",
                doingBusinessAs: "Pizza Doe",
                processingAccountId: 38765,
                link: {
                    rel: "processingAccount",
                    method: "get",
                    href: "https://api.payroc.com/v1/processing-accounts/38765",
                },
            },
            links: [
                {
                    rel: "achDepositFees",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposit-fees?achDepositId=99&merchantId=4525644354",
                },
            ],
        });
    });

    test("retrieveAchDeposit (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(400).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("retrieveAchDeposit (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(401).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("retrieveAchDeposit (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(403).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("retrieveAchDeposit (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(404).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.NotFoundError);
    });

    test("retrieveAchDeposit (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(406).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("retrieveAchDeposit (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server.mockEndpoint().get("/ach-deposits/1").respondWith().statusCode(500).jsonBody(rawResponseBody).build();

        await expect(async () => {
            return await client.reporting.settlement.retrieveAchDeposit({
                achDepositId: 1,
            });
        }).rejects.toThrow(Payroc.InternalServerError);
    });

    test("listAchDepositFees (1)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 2,
            count: 1,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposit-fees?before=65&limit=2&date=2024-07-02",
                },
            ],
            data: [
                {
                    associationDate: "2024-07-02",
                    adjustmentDate: "2024-07-02",
                    description: "ACH Deposit Fee",
                    amount: 500,
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    achDeposit: {
                        achDepositId: 99,
                        link: {
                            rel: "achDeposit",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposits/99?merchantId=4525644354",
                        },
                    },
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposit-fees")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 2,
            count: 1,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "https://api.payroc.com/v1/ach-deposit-fees?before=65&limit=2&date=2024-07-02",
                },
            ],
            data: [
                {
                    associationDate: "2024-07-02",
                    adjustmentDate: "2024-07-02",
                    description: "ACH Deposit Fee",
                    amount: 500,
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    achDeposit: {
                        achDepositId: 99,
                        link: {
                            rel: "achDeposit",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposits/99?merchantId=4525644354",
                        },
                    },
                },
            ],
        };
        const page = await client.reporting.settlement.listAchDepositFees({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2024-07-02",
            achDepositId: 1,
            merchantId: "4525644354",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listAchDepositFees (2)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                { rel: "previous", method: "get", href: "<uri>" },
                { rel: "next", method: "get", href: "<uri>" },
            ],
            data: [
                {
                    associationDate: "2024-07-02",
                    adjustmentDate: "2024-07-02",
                    description: "Month-End Fees Credit Processing",
                    amount: 100,
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    achDeposit: {
                        achDepositId: 99,
                        link: {
                            rel: "achDeposit",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposits/99?merchantId=4525644354",
                        },
                    },
                },
            ],
        };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposit-fees")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const expected = {
            limit: 10,
            count: 0,
            hasMore: false,
            links: [
                {
                    rel: "previous",
                    method: "get",
                    href: "<uri>",
                },
                {
                    rel: "next",
                    method: "get",
                    href: "<uri>",
                },
            ],
            data: [
                {
                    associationDate: "2024-07-02",
                    adjustmentDate: "2024-07-02",
                    description: "Month-End Fees Credit Processing",
                    amount: 100,
                    merchant: {
                        merchantId: "4525644354",
                        doingBusinessAs: "Pizza Doe",
                        processingAccountId: 38765,
                        link: {
                            rel: "processingAccount",
                            method: "get",
                            href: "https://api.payroc.com/v1/processing-accounts/38765",
                        },
                    },
                    achDeposit: {
                        achDepositId: 99,
                        link: {
                            rel: "achDeposit",
                            method: "get",
                            href: "https://api.payroc.com/v1/ach-deposits/99?merchantId=4525644354",
                        },
                    },
                },
            ],
        };
        const page = await client.reporting.settlement.listAchDepositFees({
            before: "2571",
            after: "8516",
            limit: 1,
            date: "2024-07-02",
            achDepositId: 1,
            merchantId: "4525644354",
        });
        expect(expected.data).toEqual(page.data);
    });

    test("listAchDepositFees (3)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposit-fees")
            .respondWith()
            .statusCode(400)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAchDepositFees();
        }).rejects.toThrow(Payroc.BadRequestError);
    });

    test("listAchDepositFees (4)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposit-fees")
            .respondWith()
            .statusCode(401)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAchDepositFees();
        }).rejects.toThrow(Payroc.UnauthorizedError);
    });

    test("listAchDepositFees (5)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { key: "value" };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposit-fees")
            .respondWith()
            .statusCode(403)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAchDepositFees();
        }).rejects.toThrow(Payroc.ForbiddenError);
    });

    test("listAchDepositFees (6)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposit-fees")
            .respondWith()
            .statusCode(406)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAchDepositFees();
        }).rejects.toThrow(Payroc.NotAcceptableError);
    });

    test("listAchDepositFees (7)", async () => {
        const server = mockServerPool.createServer();
        mockBearer(server);

        const client = new PayrocClient({
            maxRetries: 0,
            apiKey: "x-api-key",
            environment: { api: server.baseUrl, identity: server.baseUrl },
        });

        const rawResponseBody = { type: "type", title: "title", status: 1, detail: "detail" };
        server
            .mockEndpoint({ once: false })
            .get("/ach-deposit-fees")
            .respondWith()
            .statusCode(500)
            .jsonBody(rawResponseBody)
            .build();

        await expect(async () => {
            return await client.reporting.settlement.listAchDepositFees();
        }).rejects.toThrow(Payroc.InternalServerError);
    });
});
